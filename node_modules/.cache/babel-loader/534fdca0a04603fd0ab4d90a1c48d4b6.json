{"ast":null,"code":"var _jsxFileName = \"/Users/aseshres/Desktop/p2c-frontend/src/components/Dashboard.js\";\nimport React, { Component } from \"react\";\nimport \"../css/App.css\";\nimport ApiService from \"../service/ApiService\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport { SESSION_STORAGE_TOKEN, SESSION_STORAGE_USERNAME } from \"../constants/Constants\";\nimport \"../css/App.css\";\nimport { SideMenu } from \"./pageComponents/SideMenu\";\nimport { RightMenu } from \"./pageComponents/RightMenu\";\nimport Welcome from \"./pageComponents/Welcome\";\nimport { Alert } from \"reactstrap\";\nimport _ from \"lodash\";\nimport { Modal } from \"react-bootstrap\";\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.logoutHandler = e => {\n      sessionStorage.removeItem(SESSION_STORAGE_TOKEN);\n      sessionStorage.removeItem(SESSION_STORAGE_USERNAME);\n      this.setState({\n        firstName: \"\",\n        lastName: \"\",\n        email: \"\",\n        child: [],\n        redirect: true,\n        message: \"\"\n      });\n    };\n\n    this.getInitialState = () => {\n      return {\n        showModal: false\n      };\n    };\n\n    this.closeHandler = () => {\n      this.setState({\n        showModal: false,\n        message: \"\"\n      });\n    };\n\n    this.openHandler = () => {\n      this.setState({\n        showModal: true\n      });\n    };\n\n    this.submitFormHandler = e => {\n      e.preventDefault();\n      let childObj = {\n        firstName: this.state.childFirstName,\n        lastName: this.state.childLastName,\n        gender: this.state.childGender,\n        dob: this.state.childDob\n      };\n      ApiService.registerChild(childObj).then(response => {\n        if (response.status === 201) {\n          this.setState({\n            childFirstName: \"\",\n            childLastName: \"\",\n            childGender: \"\",\n            childDob: \"\"\n          });\n          this.setState({\n            message: \"Thank you for your submission.\"\n          });\n        }\n      }).catch(error => {\n        console.log(error.response);\n      });\n    };\n\n    this.changeHandler = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.state = {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      child: [],\n      redirect: false,\n      childFirstName: \"\",\n      childLastName: \"\",\n      childGender: \"\",\n      childDob: \"\"\n    };\n  }\n\n  componentDidMount() {\n    if (sessionStorage.getItem(SESSION_STORAGE_TOKEN) && sessionStorage.getItem(SESSION_STORAGE_USERNAME)) {\n      const token = sessionStorage.getItem(SESSION_STORAGE_TOKEN);\n      const data = sessionStorage.getItem(SESSION_STORAGE_USERNAME);\n      console.log(\"username:\", data);\n      console.log(\"token\", token);\n      ApiService.getParentData(data).then(response => {\n        console.log(response.data.child);\n        this.setState({\n          firstName: response.data.firstName,\n          lastName: response.data.lastName,\n          email: response.data.email,\n          child: response.data.child\n        });\n      });\n    } else {\n      this.setState({\n        redirect: true\n      });\n    }\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      });\n    }\n\n    const fnameCamelcased = _.startCase(_.camelCase(this.state.firstName));\n\n    const hasChild = this.state.child.length < 1;\n    console.log('hello', this.state.child.length);\n    const _this$state = this.state,\n          childFirstName = _this$state.childFirstName,\n          childLastName = _this$state.childLastName,\n          childGender = _this$state.childGender,\n          childDob = _this$state.childDob;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      show: this.state.showModal,\n      onHide: this.closeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Child details\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, this.state.message && React.createElement(\"div\", {\n      className: \"text-left pt-4 text-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, this.state.message, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    })), React.createElement(\"form\", {\n      onSubmit: this.submitFormHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Child FirstName\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"text\",\n      name: \"childFirstName\",\n      onChange: this.changeHandler,\n      value: childFirstName,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Child LastName\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"text\",\n      name: \"childLastName\",\n      onChange: this.changeHandler,\n      value: childLastName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    })), React.createElement(\"select\", {\n      className: \"custom-select\",\n      name: \"childGender\",\n      onChange: this.changeHandler,\n      value: childGender,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"Gender\"), React.createElement(\"option\", {\n      value: \"MALE\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"Boy\"), React.createElement(\"option\", {\n      value: \"FEMALE\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Girl\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"Date Of Birth\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"date\",\n      name: \"childDob\",\n      value: childDob,\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"Submit\")))), React.createElement(\"section\", {\n      className: \"section pt-4 pb-4 osahan-account-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"osahan-account-page-left shadow-sm bg-white h-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"border-bottom p-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"osahan-user text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"osahan-user-media\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"mb-3 rounded-pill shadow-sm mt-1\",\n      src: require(\"../img/profile-avatar.png\"),\n      alt: this.state.firstName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"osahan-user-media-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(\"h6\", {\n      className: \"mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, fnameCamelcased), React.createElement(\"p\", {\n      className: \"mb-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, this.state.lastName), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, this.state.email), React.createElement(\"p\", {\n      className: \"mb-0 text-black font-weight-bold\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"text-primary mr-3\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#edit-profile-modal\",\n      to: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"icofont-ui-edit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }), \" EDIT\"))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"osahan-user-media-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, this.state.child.length === 0, React.createElement(Alert, {\n      color: \"info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, fnameCamelcased, \", you haven't entered child details yet.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }), React.createElement(Link, {\n      to: \"#\",\n      onClick: this.openHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"Let's do it now\")))))), React.createElement(SideMenu, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-md-6\",\n      id: \"contentId\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"osahan-account-page-right shadow-sm bg-white p-4 h-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tab-content\",\n      id: \"myTabContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tab-pane fade show active\",\n      id: \"orders\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"orders-tab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, !hasChild ? React.createElement(Welcome, {\n      name: this.state.firstName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }) : \"\")))), React.createElement(RightMenu, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["/Users/aseshres/Desktop/p2c-frontend/src/components/Dashboard.js"],"names":["React","Component","ApiService","Redirect","Link","SESSION_STORAGE_TOKEN","SESSION_STORAGE_USERNAME","SideMenu","RightMenu","Welcome","Alert","_","Modal","Dashboard","constructor","props","logoutHandler","e","sessionStorage","removeItem","setState","firstName","lastName","email","child","redirect","message","getInitialState","showModal","closeHandler","openHandler","submitFormHandler","preventDefault","childObj","state","childFirstName","childLastName","gender","childGender","dob","childDob","registerChild","then","response","status","catch","error","console","log","changeHandler","target","name","value","componentDidMount","getItem","token","data","getParentData","render","fnameCamelcased","startCase","camelCase","hasChild","length","require"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../css/App.css\";\nimport ApiService from \"../service/ApiService\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport {\n  SESSION_STORAGE_TOKEN,\n  SESSION_STORAGE_USERNAME\n} from \"../constants/Constants\";\nimport \"../css/App.css\";\nimport { SideMenu } from \"./pageComponents/SideMenu\";\nimport { RightMenu } from \"./pageComponents/RightMenu\";\nimport Welcome from \"./pageComponents/Welcome\";\nimport { Alert } from \"reactstrap\";\nimport _ from \"lodash\";\nimport { Modal } from \"react-bootstrap\";\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      child: [],\n      redirect: false,\n      childFirstName: \"\",\n      childLastName: \"\",\n      childGender: \"\",\n      childDob: \"\"\n    };\n  }\n\n  logoutHandler = e => {\n    sessionStorage.removeItem(SESSION_STORAGE_TOKEN);\n    sessionStorage.removeItem(SESSION_STORAGE_USERNAME);\n    this.setState({\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      child: [ ],\n      redirect: true,\n      message: \"\"\n    });\n  };\n  getInitialState = () => {\n    return { showModal: false };\n  };\n\n  closeHandler = () => {\n    this.setState({ showModal: false, message: \"\" });\n  };\n\n  openHandler = () => {\n    this.setState({ showModal: true});\n  };\n\n  componentDidMount() {\n    if (\n      sessionStorage.getItem(SESSION_STORAGE_TOKEN) &&\n      sessionStorage.getItem(SESSION_STORAGE_USERNAME)\n    ) {\n      const token = sessionStorage.getItem(SESSION_STORAGE_TOKEN);\n      const data = sessionStorage.getItem(SESSION_STORAGE_USERNAME);\n\n      console.log(\"username:\", data);\n      console.log(\"token\", token);\n\n      ApiService.getParentData(data).then(response => {\n        console.log(response.data.child)\n        this.setState({\n          firstName: response.data.firstName,\n          lastName: response.data.lastName,\n          email: response.data.email,\n          child: response.data.child\n        });\n      });\n    } else {\n      this.setState({ redirect: true });\n    }\n  }\n\n  submitFormHandler = e => {\n    e.preventDefault();\n\n    let childObj = {\n      firstName: this.state.childFirstName,\n      lastName: this.state.childLastName,\n      gender: this.state.childGender,\n      dob: this.state.childDob\n    };\n    ApiService.registerChild(childObj)\n      .then(response => {\n        if (response.status === 201) {\n          this.setState({\n            childFirstName: \"\",\n            childLastName: \"\",\n            childGender: \"\",\n            childDob: \"\"\n          });\n          this.setState({\n            message: `Thank you for your submission.`\n          });\n        }\n      })\n      .catch(error => {\n        console.log(error.response);\n      });\n  };\n  changeHandler = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to={\"/\"} />;\n    }\n    const fnameCamelcased = _.startCase(_.camelCase(this.state.firstName));\n    const hasChild = this.state.child.length < 1;\n    console.log('hello', this.state.child.length)\n    const { childFirstName, childLastName, childGender, childDob } = this.state;\n\n    return (\n      <div>\n        <Modal show={this.state.showModal} onHide={this.closeHandler}>\n          <Modal.Header closeButton>\n            <Modal.Title>Child details</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            {this.state.message && (\n              <div className=\"text-left pt-4 text-danger\">\n                {this.state.message}\n                <br />\n              </div>\n            )}\n\n            <form onSubmit={this.submitFormHandler}>\n              <div className=\"form-group\">\n                <label htmlFor=\"text\">Child FirstName</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"text\"\n                  name=\"childFirstName\"\n                  onChange={this.changeHandler}\n                  value={childFirstName}\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"text\">Child LastName</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"text\"\n                  name=\"childLastName\"\n                  onChange={this.changeHandler}\n                  value={childLastName}\n                />\n              </div>\n              <select\n                className=\"custom-select\"\n                name=\"childGender\"\n                onChange={this.changeHandler}\n                value={childGender}\n              >\n                <option value>Gender</option>\n                <option value=\"MALE\">Boy</option>\n                <option value=\"FEMALE\">Girl</option>\n              </select>\n              <br />\n              <br />\n              <div className=\"form-group\">\n                <label htmlFor=\"date\">Date Of Birth</label>\n                <input\n                  className=\"form-control\"\n                  type=\"date\"\n                  name=\"childDob\"\n                  value={childDob}\n                  onChange={this.changeHandler}\n                />\n              </div>\n              <br />\n              <button type=\"submit\" className=\"btn btn-primary\">\n                Submit\n              </button>\n            </form>\n          </Modal.Body>\n        </Modal>\n        <section className=\"section pt-4 pb-4 osahan-account-page\">\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-md-3\">\n                <div className=\"osahan-account-page-left shadow-sm bg-white h-100\">\n                  <div className=\"border-bottom p-4\">\n                    <div className=\"osahan-user text-center\">\n                      <div className=\"osahan-user-media\">\n                        <img\n                          className=\"mb-3 rounded-pill shadow-sm mt-1\"\n                          src={require(\"../img/profile-avatar.png\")}\n                          alt={this.state.firstName}\n                        />\n                        <div className=\"osahan-user-media-body\">\n                          <h6 className=\"mb-2\">{fnameCamelcased}</h6>\n                          <p className=\"mb-1\">{this.state.lastName}</p>\n                          <p>{this.state.email}</p>\n                          <p className=\"mb-0 text-black font-weight-bold\">\n                            <Link\n                              className=\"text-primary mr-3\"\n                              data-toggle=\"modal\"\n                              data-target=\"#edit-profile-modal\"\n                              to=\"\"\n                            >\n                              <i className=\"icofont-ui-edit\" /> EDIT\n                            </Link>\n                          </p>\n                        </div>\n                        <hr />\n\n                        <div className=\"osahan-user-media-body\">\n                          {this.state.child.length === 0}\n                          <Alert color=\"info\">\n                            {fnameCamelcased}, you haven't entered child details\n                            yet.\n                            <br />\n                            <Link to=\"#\" onClick={this.openHandler}>\n                              Let's do it now\n                            </Link>\n                          </Alert>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  {/* Site item component */}\n                  <SideMenu />\n                </div>\n              </div>\n              <div className=\"col-md-6\" id=\"contentId\">\n                <div className=\"osahan-account-page-right shadow-sm bg-white p-4 h-100\">\n                  <div className=\"tab-content\" id=\"myTabContent\">\n                    <div\n                      className=\"tab-pane fade show active\"\n                      id=\"orders\"\n                      role=\"tabpanel\"\n                      aria-labelledby=\"orders-tab\"\n                    >\n                      {!hasChild ? <Welcome name={this.state.firstName} /> : \"\"}\n                    </div>\n                  </div>\n                </div>\n              </div>\n              {/* Site item component */}\n              <RightMenu />\n            </div>\n          </div>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}