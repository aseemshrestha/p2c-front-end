{"ast":null,"code":"var _jsxFileName = \"/Users/aseshres/Desktop/p2c-frontend/src/components/Dashboard.js\";\nimport React, { Component } from \"react\";\nimport \"../css/App.css\";\nimport ApiService from \"../service/ApiService\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport { SESSION_STORAGE_TOKEN, SESSION_STORAGE_USERNAME } from \"../constants/Constants\";\nimport { SideMenu } from \"./pageComponents/SideMenu\";\nimport { RightMenu } from \"./pageComponents/RightMenu\";\nimport Welcome from \"./pageComponents/Welcome\";\nimport { Alert } from \"reactstrap\";\nimport _ from \"lodash\";\nimport Moment from \"react-moment\";\nimport ChildModal from \"./pageComponents/ChildModal\";\nimport { Modal } from \"react-bootstrap\";\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.logoutHandler = e => {\n      sessionStorage.removeItem(SESSION_STORAGE_TOKEN);\n      sessionStorage.removeItem(SESSION_STORAGE_USERNAME);\n      this.setState({\n        firstName: \"\",\n        lastName: \"\",\n        email: \"\",\n        child: [],\n        redirect: true,\n        message: \"\"\n      });\n    };\n\n    this.closeHandler = () => {\n      this.setState({\n        showModal: false,\n        message: \"\"\n      });\n    };\n\n    this.openHandler = () => {\n      this.setState({\n        showModal: true\n      });\n    };\n\n    this.state = {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      child: [],\n      redirect: false\n    };\n  }\n\n  componentDidMount() {\n    if (sessionStorage.getItem(SESSION_STORAGE_TOKEN) && sessionStorage.getItem(SESSION_STORAGE_USERNAME)) {\n      const data = sessionStorage.getItem(SESSION_STORAGE_USERNAME);\n      ApiService.getParentData(data).then(response => {\n        this.setState({\n          firstName: response.data.firstName,\n          lastName: response.data.lastName,\n          email: response.data.email,\n          child: response.data.child\n        });\n      });\n    } else {\n      this.setState({\n        redirect: true\n      });\n    }\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      });\n    }\n\n    const fnameCamelcased = _.startCase(_.camelCase(this.state.firstName));\n\n    const hasChild = this.state.child.length > 0;\n    const children = hasChild ? this.state.child.map(c => {\n      return React.createElement(\"div\", {\n        className: \"alert alert-success\",\n        role: \"alert\",\n        key: c.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, c.firstName, \" is now \", React.createElement(Moment, {\n        date: c.dob,\n        durationFromNow: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), \" old.\");\n    }) : React.createElement(Alert, {\n      color: \"info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \" \", fnameCamelcased, \", you haven't entered child details yet.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      show: this.state.showModal,\n      onHide: this.closeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(ChildModal, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })), React.createElement(\"section\", {\n      className: \"section pt-4 pb-4 osahan-account-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"osahan-account-page-left shadow-sm bg-white h-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(SideMenu, {\n      email: this.state.email,\n      fnameCamelcased: fnameCamelcased,\n      lastName: this.state.lastName,\n      children: children,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-md-6\",\n      id: \"contentId\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"osahan-account-page-right shadow-sm bg-white p-4 h-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tab-content\",\n      id: \"myTabContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tab-pane fade show active\",\n      id: \"orders\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"orders-tab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Welcome, {\n      name: this.state.firstName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }))))), React.createElement(RightMenu, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["/Users/aseshres/Desktop/p2c-frontend/src/components/Dashboard.js"],"names":["React","Component","ApiService","Redirect","Link","SESSION_STORAGE_TOKEN","SESSION_STORAGE_USERNAME","SideMenu","RightMenu","Welcome","Alert","_","Moment","ChildModal","Modal","Dashboard","constructor","props","logoutHandler","e","sessionStorage","removeItem","setState","firstName","lastName","email","child","redirect","message","closeHandler","showModal","openHandler","state","componentDidMount","getItem","data","getParentData","then","response","render","fnameCamelcased","startCase","camelCase","hasChild","length","children","map","c","id","dob"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../css/App.css\";\nimport ApiService from \"../service/ApiService\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport {\n  SESSION_STORAGE_TOKEN,\n  SESSION_STORAGE_USERNAME\n} from \"../constants/Constants\";\nimport { SideMenu } from \"./pageComponents/SideMenu\";\nimport { RightMenu } from \"./pageComponents/RightMenu\";\nimport Welcome from \"./pageComponents/Welcome\";\nimport { Alert } from \"reactstrap\";\nimport _ from \"lodash\";\nimport Moment from \"react-moment\";\nimport ChildModal from \"./pageComponents/ChildModal\";\nimport { Modal } from \"react-bootstrap\";\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      child: [],\n      redirect: false\n    };\n  }\n\n  logoutHandler = e => {\n    sessionStorage.removeItem(SESSION_STORAGE_TOKEN);\n    sessionStorage.removeItem(SESSION_STORAGE_USERNAME);\n    this.setState({\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      child: [],\n      redirect: true,\n      message: \"\"\n    });\n  };\n\n  closeHandler = () => {\n    this.setState({ showModal: false, message: \"\" });\n  };\n\n  openHandler = () => {\n    this.setState({ showModal: true });\n  };\n\n  componentDidMount() {\n    if (\n      sessionStorage.getItem(SESSION_STORAGE_TOKEN) &&\n      sessionStorage.getItem(SESSION_STORAGE_USERNAME)\n    ) {\n      const data = sessionStorage.getItem(SESSION_STORAGE_USERNAME);\n      ApiService.getParentData(data).then(response => {\n        this.setState({\n          firstName: response.data.firstName,\n          lastName: response.data.lastName,\n          email: response.data.email,\n          child: response.data.child\n        });\n      });\n    } else {\n      this.setState({ redirect: true });\n    }\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to={\"/\"} />;\n    }\n    const fnameCamelcased = _.startCase(_.camelCase(this.state.firstName));\n    const hasChild = this.state.child.length > 0;\n    const children = hasChild ? (\n      this.state.child.map(c => {\n        return (\n          <div className=\"alert alert-success\" role=\"alert\" key={c.id}>\n            {c.firstName} is now <Moment date={c.dob} durationFromNow /> old.\n          </div>\n        );\n      })\n    ) : (\n      <Alert color=\"info\">\n        {\" \"}\n        {fnameCamelcased}, you haven't entered child details yet.\n        <br />\n      </Alert>\n    );\n\n    return (\n      <div>\n        <Modal show={this.state.showModal} onHide={this.closeHandler}>\n          <ChildModal />\n        </Modal>\n        <section className=\"section pt-4 pb-4 osahan-account-page\">\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-md-3\">\n                <div className=\"osahan-account-page-left shadow-sm bg-white h-100\">  \n                  {/* Site item component */}\n                  <SideMenu\n                    email={this.state.email}\n                    fnameCamelcased={fnameCamelcased}\n                    lastName={this.state.lastName}\n                    children={children}\n                  />\n                </div>\n              </div>\n              <div className=\"col-md-6\" id=\"contentId\">\n                <div className=\"osahan-account-page-right shadow-sm bg-white p-4 h-100\">\n                  <div className=\"tab-content\" id=\"myTabContent\">\n                    <div\n                      className=\"tab-pane fade show active\"\n                      id=\"orders\"\n                      role=\"tabpanel\"\n                      aria-labelledby=\"orders-tab\"\n                    >\n                      <Welcome name={this.state.firstName} />\n                    </div>\n                  </div>\n                </div>\n              </div>\n              {/* Site item component */}\n              <RightMenu />\n            </div>\n          </div>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}